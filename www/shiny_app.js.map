{"version":3,"file":"shiny_app.js","mappings":"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","sources":["webpack://geom90007-a3-naarmwings/./src/js/user_agent.js","webpack://geom90007-a3-naarmwings/./src/js/events.js","webpack://geom90007-a3-naarmwings/./src/js/search.js","webpack://geom90007-a3-naarmwings/./src/js/buttons.js","webpack://geom90007-a3-naarmwings/./src/js/ui.js","webpack://geom90007-a3-naarmwings/./src/js/intro.js","webpack://geom90007-a3-naarmwings/./src/js/_build.js"],"sourcesContent":["const check_user_agent = () => {\n  navigator.userAgent.includes(\"QtWebEngine\") &&\n    window.alert(\"For best effect, please use an external browser.\");\n};\n\nexport {\n  check_user_agent\n};","const activate_panel = (panel, apply_dimmer = true) => {\n  if (!panel) {\n    return false;\n  }\n\n  const dimmer = document.querySelector(\"[data-value='Dimmer'].tab-pane\");\n  panel.classList.add(\"active\");\n\n  if (apply_dimmer && dimmer) {\n    dimmer.classList.add(\"dim\");\n    dimmer.addEventListener(\n      \"click\",\n      () => deactivate_panel(panel),\n      { once: true }\n    );\n  }\n\n  return true;\n}\n\nconst deactivate_panel = (panel, apply_dimmer = true) => {\n  if (!panel) {\n    return false;\n  }\n\n  const dimmer = document.querySelector(\"[data-value='Dimmer'].tab-pane\");\n  panel.classList.remove(\"active\");\n\n  if (apply_dimmer && dimmer) {\n    dimmer.classList.remove(\"dim\");\n    dimmer.replaceWith(dimmer.cloneNode(true));\n  }\n\n  return true;\n}\n\nexport {\n  activate_panel,\n  deactivate_panel\n};\n","const SEARCH_INPUT_ID = \"search-input\";\nconst get_search_input = () => document.getElementById(SEARCH_INPUT_ID);\n\nconst search_osm = async (query) => {\n  const trimmed_query = (query || \"\").trim();\n  if (!trimmed_query) {\n    return [];\n  }\n\n  const url = new URL(\"https://nominatim.openstreetmap.org/search\");\n\n  const params = {\n    \"format\": \"json\",\n    \"countrycodes\": \"au\",\n    \"viewbox\": \"144.93366,-37.79264,144.97670,-37.82391\",\n    \"bounded\": \"1\",\n    \"q\": trimmed_query\n  }\n  \n  for (let param in params) {\n    url.searchParams.append(param, params[param])\n  }\n\n  on_search_go();\n\n  try {\n    const result = await fetch(url);\n    if (result.status !== 200) {\n      throw new Error(`Bad Server Response (${result.status})`);\n    }\n    return await result.json();\n  } catch (error) {\n    return [];\n  } finally {\n    on_search_done();\n  }\n}\n\nconst render_search_results = (json) => {\n  const res_panel = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n  if (!res_panel) {\n    return;\n  }\n\n  res_panel.innerHTML = \"\";\n  const results = Array.isArray(json) ? json : [];\n  const res_elements = results.map((result) => {\n    const wrapper = document.createElement(\"div\");\n    wrapper.classList.add(\"result-wrapper\");\n\n    const display_names = osm_display_name(result);\n\n    wrapper.addEventListener(\"click\", () => {\n      const input = get_search_input();\n      if (!input) {\n        return;\n      }\n\n      const { lat, lon } = result || {};\n      if (lat == null || lon == null) {\n        search_res_alert(\"Selected result is missing location data.\", true);\n        return;\n      }\n      \n      input.dispatchEvent(\n        new CustomEvent(\"set:loc\", {\"detail\": result})\n      );\n\n      const res_panel_click = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n      res_panel_click && res_panel_click.dispatchEvent(\n        new CustomEvent(\"close:panel\", {\"detail\": result})\n      );\n\n      input.value = display_names[0] || \"Unknown name\";\n\n      close_search_results();\n\n      // Clean up any other indicators\n      remove_gps_indicator();\n    });\n\n    const name = document.createElement(\"div\");\n    name.classList.add(\"result-name\");\n    name.innerHTML = display_names[0] || \"Unknown name\";\n    \n    const loc = document.createElement(\"div\");\n    loc.classList.add(\"result-loc\");\n    loc.innerHTML = display_names[1] && display_names.slice(1).join(\" \")\n      || \"Unknown location\";\n    \n    wrapper.appendChild(name);\n    wrapper.appendChild(loc);\n    \n    return wrapper;\n  })\n\n  if (res_elements.length < 1) {\n    search_res_alert(\"No results found, please try again.\");\n  }\n\n  res_panel.append(... res_elements);\n\n  // Open the panel after results have been rendered\n  open_search_results();\n}\n\nconst search_res_alert = (message, open_panel = false) => {\n  const res_panel = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n  if (!res_panel) {\n    return;\n  }\n\n  res_panel.innerHTML = \"\";\n  const msg = document.createElement(\"div\");\n  msg.classList.add(\"result-none\");\n  msg.innerHTML = message;\n  res_panel.append(msg);\n\n  open_panel && open_search_results();\n}\n\nconst osm_display_name = (obj) => {\n  return obj.display_name && obj.display_name.split(\",\") || [];\n}\n\nconst open_search_results = () => {\n  const res_panel = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n  const search_input = get_search_input();\n  if (!res_panel || !search_input) {\n    return;\n  }\n\n  const input_wrapper = search_input.closest(\".wrapper\");\n  if (!input_wrapper) {\n    return;\n  }\n\n  const {\n    bottom:y, width\n  } = input_wrapper.getBoundingClientRect();\n  \n  res_panel.style.top = `${y}px`;\n  res_panel.style.width = `${width}px`;\n  res_panel.classList.add(\"active\");\n}\n\nconst close_search_results = () => {\n  const res_panel = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n  res_panel && res_panel.classList.remove(\"active\");\n}\n\nconst search_panel_go = async () => {\n  const input = get_search_input();\n  if (!input) {\n    return;\n  }\n\n  const query = input.value || \"\";\n  const trimmed_query = query.trim();\n  if (!trimmed_query) {\n    search_res_alert(\"Please enter a location.\", true);\n    return;\n  }\n\n  const results = await search_osm(trimmed_query);\n\n  render_search_results(results);\n}\n\nconst on_search_go = () => {\n  const panel = document.querySelector(\"[data-value='Search'].tab-pane\");\n  panel && panel.classList.add(\"busy\");\n\n  const input = get_search_input();\n  input && input.dispatchEvent(\n    new CustomEvent(\"search:busy\")\n  );\n}\n\nconst on_search_done = () => {\n  const panel = document.querySelector(\"[data-value='Search'].tab-pane\");\n  panel && panel.classList.remove(\"busy\");\n\n  const input = get_search_input();\n  input && input.dispatchEvent(\n    new CustomEvent(\"search:done\")\n  );\n}\n\nconst use_geolocation = () => {\n  const on_success = (location) => {\n    const {coords: {\n      latitude:lat, longitude:lon\n    }} = location;\n    const input = document.getElementById(\"search-input\");\n      \n    input.dispatchEvent(\n      new CustomEvent(\"set:loc\", {\"detail\": {lat, lon}})\n    );\n    \n    search_res_alert(\"Current GPS location set.\", true);\n    set_gps_indicator();\n  }\n\n  const on_failure = (reason) => {\n    let message = \"Unable to access current location.\";\n    if (reason) {\n      switch (reason.code) {\n        case reason.PERMISSION_DENIED:\n          message = \"Location permission was denied.\";\n        break;\n        case reason.POSITION_UNAVAILABLE:\n          message = \"Location information is unavailable.\";\n        break;\n        case reason.TIMEOUT:\n          message = \"Location request timed out. Please try again.\";\n        break;\n        default:\n          message = reason.message || message;\n      }\n    }\n    search_res_alert(message, true);\n  }\n\n  navigator.geolocation &&\n  navigator.geolocation.getCurrentPosition(on_success, on_failure);\n}\n\nconst set_gps_indicator = () => {\n  const icon = document.getElementById(\"button-gps\");\n  icon.classList.add(\"active\");\n}\n\nconst remove_gps_indicator = () => {\n  const icon = document.getElementById(\"button-gps\");\n  icon.classList.remove(\"active\");\n}\n\nconst bind_search_events = () => {\n  const res_panel = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n  const input = get_search_input();\n  if (!input) {\n    return;\n  }\n\n  input.addEventListener(\"set:loc\", (event) => {\n    const { detail: data } = event || {};\n    if (!data || data.lat == null || data.lon == null) {\n      search_res_alert(\"Selected result is missing location data.\", true);\n      return;\n    }\n    if (typeof Shiny !== \"undefined\" && Shiny.setInputValue) {\n      Shiny.setInputValue(\"js_set_loc\", data);\n    }\n  })\n}\n\nexport {\n  search_osm,\n  search_panel_go,\n  bind_search_events,\n  open_search_results,\n  close_search_results,\n  use_geolocation\n}\n","import { activate_panel, deactivate_panel } from \"./events.js\"\nimport { search_panel_go, close_search_results, use_geolocation } from \"./search.js\";\n\nconst filters_show_hide = () => {\n  const panel = document.querySelector(\"[data-value='Filters'].tab-pane\");\n  if (!panel) {\n    return;\n  }\n\n  panel.classList.contains(\"active\")\n    ? deactivate_panel(panel)\n    : activate_panel(panel);\n}\n\nconst bind_button_actions = () => {\n  const filters_toggle = document.getElementById(\"filters-show-hide\");\n  filters_toggle && filters_toggle.addEventListener(\n    \"click\",\n    filters_show_hide\n  );\n\n  const search_button = document.getElementById(\"button-search\");\n  search_button && search_button.addEventListener(\n    \"click\",\n    search_panel_go\n  );\n\n  const gps_button = document.getElementById(\"button-gps\");\n  gps_button && gps_button.addEventListener(\n    \"click\",\n    use_geolocation\n  );\n\n  const search_input = document.getElementById(\"search-input\");\n  search_input && search_input.addEventListener(\n    \"keydown\",\n    (event) => {\n      switch (event.key) {\n        case \"Enter\":\n          event.preventDefault();\n          event.stopPropagation();\n          search_panel_go();\n          break;\n        case \"Escape\":\n          event.preventDefault();\n          event.stopPropagation();\n          event.target.blur();\n          close_search_results();\n          break;\n        default:\n      }\n    }\n  );\n\n  document.addEventListener(\"click\", (event) => {\n    // Close the SearchResults panel when clicking outside\n    const res_panel = document.querySelector(\"[data-value='SearchResults'].tab-pane\");\n    const search_wrapper = document.querySelector(\".search-bar .wrapper\");\n\n    // Only close if clicking outside both panel and search box\n    if (res_panel && search_wrapper &&\n        !res_panel.contains(event.target) &&\n        !search_wrapper.contains(event.target)) {\n      close_search_results();\n    }\n  });\n}\n\nexport {\n  bind_button_actions\n};\n","const slider_context_labels = () => {\n  const radiusSlider = document.querySelector('#filter_radius');\n  if (!radiusSlider) return;\n\n  const radiusContainer = radiusSlider.closest('.shiny-input-container');\n  if (!radiusContainer) return;\n\n  const labels = radiusContainer.getElementsByClassName(\"irs-grid-text\");\n  for (const label of labels) {\n    try {\n      const value = parseFloat(label.innerHTML);\n      // Only format if it looks like a distance value (not a year)\n      if (value > 0 && value <= 100) {\n        (value < 1) && (label.innerHTML = `${parseInt(value * 1000)} m`);\n        (value >= 1) && (label.innerHTML = `${parseInt(value)} km`);\n      }\n    } catch (error) {\n      continue;\n    }\n  }\n}\n\nexport {\n  slider_context_labels\n}\n","const introPane = () => document.querySelector(\"[data-value='Intro'].tab-pane\");\n\nconst updateIntroPage = (pane, desiredPage) => {\n  if (!pane) return;\n\n  const total =\n    parseInt(pane.dataset.pageCount || \"0\", 10) ||\n    pane.getElementsByClassName(\"page\").length ||\n    0;\n\n  if (total < 1) return;\n\n  const nextPage = Math.min(Math.max(desiredPage, 1), total);\n\n  for (let i = 1; i <= total; i += 1) {\n    pane.classList.remove(`page-${i}`);\n  }\n\n  pane.classList.add(`page-${nextPage}`);\n  pane.dataset.currentPage = String(nextPage);\n  pane.dataset.pageCount = String(total);\n};\n\nconst on_intro_btn_click = (event) => {\n  const target = event.currentTarget || event.target;\n  const directionAttr = target && target.getAttribute(\"direction\");\n  const pane = introPane();\n\n  if (!directionAttr || !pane) return;\n\n  const current = parseInt(pane.dataset.currentPage || \"1\", 10) || 1;\n  const total =\n    parseInt(pane.dataset.pageCount || \"0\", 10) ||\n    pane.getElementsByClassName(\"page\").length ||\n    0;\n\n  if (directionAttr === \"left\") {\n    updateIntroPage(pane, current - 1);\n  } else if (directionAttr === \"right\") {\n    if (current < total) {\n      updateIntroPage(pane, current + 1);\n    } else {\n      pane.classList.remove(\"active\");\n    }\n  }\n};\n\nconst bind_intro_actions = () => {\n  const pane = introPane();\n  if (!pane) return;\n\n  const pageCount = pane.getElementsByClassName(\"page\").length || 0;\n  pane.dataset.pageCount = String(pageCount);\n  pane.dataset.currentPage = \"1\";\n  updateIntroPage(pane, 1);\n\n  const btn_left = document.getElementById(\"intro-left\");\n  const btn_right = document.getElementById(\"intro-right\");\n  \n  btn_left && btn_left.addEventListener(\"click\", on_intro_btn_click);\n  btn_right && btn_right.addEventListener(\"click\", on_intro_btn_click);\n};\n\nconst on_first_run = () => {\n  const pane = introPane();\n  if (!pane) return;\n  pane.classList.add(\"active\");\n  updateIntroPage(pane, 1);\n};\n\nexport {\n  bind_intro_actions,\n  on_first_run\n}\n","import { check_user_agent } from \"./user_agent.js\";\nimport { bind_button_actions } from \"./buttons\";\nimport { slider_context_labels } from \"./ui.js\";\nimport { search_osm, bind_search_events } from \"./search.js\";\nimport { bind_intro_actions, on_first_run } from \"./intro.js\";\n\n(($) => {\n\n  window.onload = () => {\n    check_user_agent();\n    window.search = search_osm\n  }\n\n  $(document).on(\"shiny:sessioninitialized\", (event) => {\n    on_first_run();\n    bind_button_actions();\n    bind_intro_actions();\n    bind_search_events();\n    slider_context_labels();\n  })\n\n})($)\n"],"names":["deactivate_panel","panel","apply_dimmer","arguments","length","undefined","dimmer","document","querySelector","classList","remove","replaceWith","cloneNode","e","t","r","Symbol","n","iterator","o","toStringTag","i","c","prototype","Generator","u","Object","create","_regeneratorDefine2","f","p","y","G","v","a","d","bind","l","TypeError","call","done","value","return","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","apply","_next","_throw","get_search_input","getElementById","search_osm","_ref","_callee","query","trimmed_query","url","params","param","result","_context","trim","URL","searchParams","append","on_search_go","fetch","status","Error","concat","json","on_search_done","_x","render_search_results","res_panel","innerHTML","res_elements","Array","isArray","map","wrapper","createElement","add","display_names","osm_display_name","addEventListener","input","_ref2","lat","lon","dispatchEvent","CustomEvent","res_panel_click","close_search_results","remove_gps_indicator","search_res_alert","name","loc","slice","join","appendChild","open_search_results","message","open_panel","msg","obj","display_name","split","search_input","input_wrapper","closest","_input_wrapper$getBou","getBoundingClientRect","bottom","width","style","top","search_panel_go","_ref3","_callee2","results","_context2","use_geolocation","navigator","geolocation","getCurrentPosition","location","_location$coords","coords","latitude","longitude","set_gps_indicator","reason","code","PERMISSION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","filters_show_hide","contains","once","activate_panel","introPane","updateIntroPage","pane","desiredPage","total","parseInt","dataset","pageCount","getElementsByClassName","nextPage","Math","min","max","currentPage","String","on_intro_btn_click","event","target","currentTarget","directionAttr","getAttribute","current","$","window","onload","userAgent","includes","alert","search","on","filters_toggle","search_button","gps_button","key","preventDefault","stopPropagation","blur","search_wrapper","bind_button_actions","btn_left","btn_right","bind_intro_actions","data","detail","Shiny","setInputValue","bind_search_events","radiusSlider","radiusContainer","_step","_iterator","_createForOfIteratorHelper","s","label","parseFloat","error","err","slider_context_labels"],"sourceRoot":""}